# Overview

目标是实现一个工作流系统，一个工作（job）是一个流程，流程拆分为task，task是指在worker上执行的具体的计算或者IO等等。流程整个所有task的输入输出。借由这样的逻辑，希望达成以下的优势：

1. 让worker可以尽量单一职责，使复用成为可能，终极目标是提类似ffmpeg filter这样的功能，让用户可以自由配置。
2. 通过rabbitmq topic的功能，可以管理异构的worker（例如 GPU worker，需要付费授权的worker）

采用事件驱动模式，任务创建和状态变化都会发出事件，驱动处理的逻辑。服务程序中不保存状态。服务获得事件后，从数据库中还原流程的状态，做对应的处理。

事件实际的实现是rabbitmq中的消息

# 目前的状态

实现了工作流核心的部分，事件和数据库的逻辑走通了。API还没有做。

# 后续

考虑用celery替换掉task分发